<!DOCTYPE html>
<html>
<head>
    <!--Requiredmetatags-->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
       
    <!--BootstrapCSS-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
       
    <title>I Want To Graduate!</title>
    <style>
        /*CSSCode*/
        #wrapper{
            margin:auto;
            width: 750px;
        }
    </style>
</head>
<body>
    <!--HTMLCode-->
    <div id="wrapper">
        <h2><strong>I Want To Graduate!</strong></h2>
        <div class="card mb-3">
            <div class="card-body">
              <h5 class="card-title"><strong>What is IWTG?</strong></h5>
              <p class="card-text">IWTG is a web application for undergraduates who need help visualizing 
                their former achievements in the school to get a sense of their present 
                status in obtaining their only goal and desire that is, graduating.</p>
            </div>
        </div>
    <div class="container">
        <div class="mb-3">
            <h4><strong>Input name and student ID</strong></h4>
            <div class="d-flex align-items-center mb-2 mt-2">
                <input type="text"class="form-control"id="exampleFormControlInput1"placeholder="Name">
                <input type="text"class="form-control"id="exampleFormControlInput2"placeholder="Student ID">
                <button type="button"class="btn btn-dark">Enter</button>
                <div class="btn-group" role="group">
                    <button id="btnGroupDrop1" type="button" class="btn btn-outline-dark dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                    Select your major
                    </button>
                    <ul class="dropdown-menu" aria-labelledby="btnGroupDrop1">
                    <li><button type="button" class="btn btn-white">Software</button></li>
                    <li><button type="button" class="btn btn-white">Medical</button></li>
                    <li><button type="button" class="btn btn-white">Business</button></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="d-flex mb-3">
            <div class="container flex-grow-1">
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th scope="col" style="width:30%">Name</th>
                            <th scope="col" style="width:20%">Student ID</th>
                            <th scope="col" style="width:20%">Major</th>
                        </tr>
                    </thread>
                    <tbody>
                        <tr>
                          <td><div class="name">-</div></td>
                          <td><div class="id">-</div></td>
                          <td><div class="major">-</div></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="d-flex mb-3">
            <div class="flex-grow-1">
                <h4><strong>Choose the type of class and credit(Prev.)<strong></h4>
            </div>
            <div class="btn-group flex-grow-1" role="group">
                <button id="btnGroupDrop1" type="button" class="btn btn-outline-success dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                Type of class
                </button>
                <ul class="dropdown-menu" aria-labelledby="btnGroupDrop1">
                <li><button type="button" class="btn btn-white">Core class</button></li>
                <li><button type="button" class="btn btn-white">Elective class</button></li>
                <li><button type="button" class="btn btn-white">Practice class</button></li>
                </ul>
            </div>
            <div class="btn-group flex-grow-1" role="group">
                <button id="btnGroupDrop1" type="button" class="btn btn-outline-warning dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                Credit
                </button>
                <ul class="dropdown-menu" aria-labelledby="btnGroupDrop1">
                <li><button type="button" class="btn btn-white">1</button></li>
                <li><button type="button" class="btn btn-white">2</button></li>
                <li><button type="button" class="btn btn-white">3</button></li>
                </ul>
            </div>
        </div>
        <div>
            <div class="d-flex mb-3">
                <table style="width:80%" class="table table-bordered">
                    <thead>
                        <tr>
                            <th scope="col">Type of class</th>
                            <th scope="col">Credit</th>
                        </tr>
                    </thread>
                    <tbody>
                        <tr>
                          <td><div id="type">-</div></td>
                          <td><div id="credit">-</div></td>
                        </tr>
                    </tbody>
                </table>
                <button id="plus" type="button" class="btn btn-outline-dark" style="height:83px">+</button>
            </div>
        </div>
        <div>
            <div>
                <h4><strong>Credit so far</strong></h4>
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th scope="col">Type of class</th>
                            <th scope="col">Core</th>
                            <th scope="col">Elective</th>
                            <th scope="col">Practice</th>
                        </tr>
                    </thread>
                    <tbody>
                        <tr>
                          <th scope="row">Credits</th>
                          <td>0</td>
                          <td>0</td>
                          <td>0</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
        <div class="container">
            <h4><strong>Type in infos about classes for current semester</strong></h4>
        <div class="d-flex align-items-center mb-2 mt-2">
            <input
                type="text"
                class="form-control"
                id="task-input"
                placeholder="Subject">
            <input
                type="text"
                class="form-control"
                id="task-input1"
            placeholder="Grade" >
            <input
                type="text"
                class="form-control"
                id="task-input2"
            placeholder="Credit">
            <input
                type="text"
                class="form-control"
                id="task-input3"
            placeholder="Kind">
            <button type="button" id="add" class="btn btn-outline-primary ms-1 text-nowrap">
                <i class="bi bi-plus"></i>
                Enter</button>
        </div>

        <div class="d-flex">
            <table class="table">
                <thead>
                  <tr>
                    <th scope="col" width="50%">Subject</th>
                    <th scope="col" width="10%">Grade</th>
                    <th scope="col" width="10%">Credit</th>
                    <th scope="col">Kind</th>
                  </tr>
                </thead>
                <tbody id="body">
                  <tr>
                    <td><div id="subject-list"></div></td>
                    <td><div id="grade-list"></div></td>
                    <td><div id="credit-list"></div></td>
                    <td><div id="kind-list"></div></td>
                  </tr>
                  
                </tbody>
              </table>
        </div>
     </div>
        <h4><strong>Graduation Requirements</strong></h4>
    <div>
           <table border=1px style="width:100%;" class="table table-bordered">
                   <tr>
                       <td>Current semester's GPA</td>
                       <td id="current grade">x</td>
                   </tr>
                   <tr>
                       <td>Current semester's core class' GPA</td>
                       <td id="current major grade">x</td>
                   </tr>
                   <tr>
                       <th>Type of class</th>
                       <th>Credits to take</th>
                   </tr>
                   <tr>
                       <td>Core</td>
                       <td id="needed major"><div class="core">x</div></td>
                   </tr> <tr>
                       <td>Elective</td>
                       <td id="needed elective"><div class="elective">x</div></td>
                   </tr> <tr>
                       <td>Practice</td>
                       <td id="needed practice"><div class="practice">x</div></td>
                   </tr>
           </table>
   </div>
</div>
    


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" 
        integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" 
        crossorigin="anonymous"></script>
    
    <script script>
        /*JSCode*/
        
        
        let state='';
        let corenum=0;
        let electivenum=0;
        let practicenum=0;
        let typecreditdiv=[]
           let coretype= document.querySelector("#Core");
            coretype.addEventListener("click", () => {
        
             
               state='core';
                let div = document.createElement("div");
                    div.className = "d-flex align-items-center";
                    typecreditdiv.push(div);
                    let span = document.createElement("span");
                    span.className = "me-auto";
                    span.textContent = "Core";
                    div.appendChild(span);

             let list=document.querySelector("#type");
             list.appendChild(div);
            });
            let practicetype= document.querySelector("#Practice");
            practicetype.addEventListener("click", () => {
            
              
                    state='practice';
                    let div = document.createElement("div");
                    div.className = "d-flex align-items-center";
                    typecreditdiv.push(div);
                    let span = document.createElement("span");
                    span.className = "me-auto";
                    span.textContent = "Practice";
                    div.appendChild(span);

             let list=document.querySelector("#type");
             list.appendChild(div);
            });
            let Electivetype= document.querySelector("#Elective");
            Electivetype.addEventListener("click", () => {
               
             
                    state='elective';
                    let div = document.createElement("div");
                    div.className = "d-flex align-items-center";
                    typecreditdiv.push(div);
                    let span = document.createElement("span");
                    span.className = "me-auto";
                    span.textContent = "Elective";
                    div.appendChild(span);

             let list=document.querySelector("#type");
             list.appendChild(div);
            });
            let one= document.querySelector("#one");
            one.addEventListener("click", () => {
               if(state==='elective')
               electivenum=electivenum+1;
               if(state==='practice')
               practicenum=practicenum+1;
               if(state==='core')
               corenum=corenum+1;
             
               
                    let div = document.createElement("div");
                    div.className = "d-flex align-items-center";
                    typecreditdiv.push(div);
                    let span = document.createElement("span");
                    span.className = "me-auto";
                    span.textContent = "1";
                    div.appendChild(span);

             let list=document.querySelector("#credit");
           
             list.appendChild(div);
            });
            let two= document.querySelector("#two");
            two.addEventListener("click", () => {
                if(state==='elective')
               electivenum=electivenum+2;
               if(state==='practice')
               practicenum=practicenum+2;
               if(state==='core')
               corenum=corenum+2;
             
               
                let div = document.createElement("div");
                    div.className = "d-flex align-items-center";
                    typecreditdiv.push(div);
                    let span = document.createElement("span");
                    span.className = "me-auto";
                    span.textContent = "2";
                    div.appendChild(span);

             let list=document.querySelector("#credit");
             list.appendChild(div);
            });
            let three= document.querySelector("#three");
            three.addEventListener("click", () => {
                if(state==='elective')
               electivenum=electivenum+3;
               if(state==='practice')
               practicenum=practicenum+3;
               if(state==='core')
               corenum=corenum+3;
               
             
               
                let div = document.createElement("div");
                    div.className = "d-flex align-items-center";
                    typecreditdiv.push(div);
                    let span = document.createElement("span");
                    span.className = "me-auto";
                    span.textContent = "3";
                    div.appendChild(span);

             let list=document.querySelector("#credit");
             list.appendChild(div);
            });
        let tochartb=document.querySelector("#tochart");
        tochartb.addEventListener("click",()=>{
        let corecred=document.querySelector("#corecredit");
        let electivecred=document.querySelector("#electivecredit");
        let practicecred=document.querySelector("#practicecredit");
        corecred.textContent=corenum;
        electivecred.textContent=electivenum;
        practicecred.textContent=practicenum;
        for(i of typecreditdiv){
        i.remove();
        }
        
       



        })
        let totalcredit=0;
        let corecredit=0;
        let coregrades=[];
        let grades=[];
        let corecredits=[];
        let credits=[];

        const Type = {
                Subject: 1,
                Grade: 2,
                Credit: 3,
                Kind: 4
            };

            let sgck_tasks=[];

            function loadTasks() {
                let lastTasks = localStorage.getItem("sgck_tasks");
                if (!lastTasks) 
                    return;
                sgck_tasks = JSON.parse(lastTasks);
                sgck_tasks.forEach(addToList);
            }
            function saveTasks() {
                localStorage.setItem("sgck_tasks", JSON.stringify(sgck_tasks));
            }
            function addToList(task) {
                let divarr=[];
                for(i of task){
                    let div = document.createElement("div");
                    div.className = "d-flex align-items-center";
                    divarr.push(div);
                    let span = document.createElement("span");
                    span.className = "me-auto";
                    span.textContent = i.text;
                    div.appendChild(span);
                    if(i.type===Type.Kind){
                        let buttonRemove = document.createElement("button");
                        buttonRemove.className = "btn btn-sm btn-danger";
                        buttonRemove.innerHTML = '<i class="bi bi-x"></i>';
                        div.appendChild(buttonRemove);
                        buttonRemove.addEventListener("click", () => {
                            for(j of divarr){
                                j.remove();
                            }
                            sgck_tasks =sgck_tasks.filter(t => t !== task);
                            saveTasks();
                        });
                    }
                    if(i.type===Type.Subject){
                        let list = document.querySelector("#subject-list");
                        list.appendChild(div);
                    }
                    else if(i.type===Type.Grade){
                        let list = document.querySelector("#grade-list");
                        list.appendChild(div);
                    }
                    else if(i.type===Type.Credit){
                        let list = document.querySelector("#credit-list");
                        list.appendChild(div);
                    }
                    else{
                        let list = document.querySelector("#kind-list");
                        list.appendChild(div);
                    }
                }
            }

            window.addEventListener("load", () => {
                loadTasks();
            });

            let button = document.querySelector("#add");
            button.addEventListener("click", () => {
                // 1. Read the text in #task-input.
                let input = document.querySelector("#task-input");
                let input1 = document.querySelector("#task-input1");
                let input2 = document.querySelector("#task-input2");
                let input3 = document.querySelector("#task-input3");
                let text = input.value;
                let text1 = input1.value;
                grades.push(text1);
                let text2 = input2.value;
                totalcredit=totalcredit+parseInt(text2);
                credits.push(text2);
               
                let text3 = input3.value;
                let correctkind=false;
                if(text3==='Core'){
                    corecredit=corecredit+parseInt(text2);
                    corecredits.push(text2);
                    coregrades.push(text1);
                   correctkind=true;
                }
                if(text3==='Elective')
                correctkind=true;
                if(text3==='Practice')
                correctkind=true;


                if(correctkind===false)
                  return;
                if (!text.length) 
                    return;
                if (!text1.length) 
                    return;
                if (!text2.length) 
                    return;
                if (!text3.length) 
                    return;
                
                // 2. Create a new Task object.
                let task=[];
                task[0] = {
                    text: text,
                    type: Type.Subject
                };
                task[1] = {
                    text: text1,
                    type: Type.Grade
                };
                task[2] = {
                    text: text2,
                    type: Type.Credit
                   
                };
                task[3] = {
                    text: text3,
                    type: Type.Kind
                };

                // 3. Append the new Task object to tasks
                sgck_tasks.push(task);
                saveTasks();

                // 4. Create a new task item and attach it to #todo-list.
                addToList(task);

                // 5. Clear #task-input.
                input.value = "";
                input1.value = "";
                input2.value = "";
                input3.value = "";
            });
          let done=document.querySelector("#done");
          done.addEventListener("click",()=>{
          let finalgrade=gradefinder(totalcredit,grades,credits);
          let finalcoregrade=gradefinder(corecredit,coregrades,corecredits)
          let gradechart=document.querySelector("#currentgrade");
          gradechart.textContent=finalgrade;
          let coregrade=document.querySelector("#currentcoregrade");
          coregrade.textContent=finalcoregrade;



          })






          function gradefinder(totalcredits, grades,credits) {
              console.log(totalcredits,grades,credits);
            let total = 0;
  for (let i = 0; i < grades.length; i++) {
   
    switch (grades[i]) {
      case "A+":
        total = total + 4.5*credits[i];
        break;
      case "B+":
        total = total + 3.5*credits[i];
        break;
      case "C+":
        total = total + 2.5*credits[i];
        break;
      case "D+":
        total = total + 1.5*credits[i];
        break;
      case "A":
        total = total + 4.0*credits[i];
        break;
      case "B":
        total = total + 3.0*credits[i];
        break;
      case "C":
        total = total + 2.0*credits[i];
        break;
      case "D":
        total = total + 1*credits[i];
        break;
      case "F":
        break;
    }
  }
  return total / totalcredits;
}
let major='';
    let majorsoftware=document.querySelector("#Software")
    let majormedical=document.querySelector("#Medical")
    let majorbusiness=document.querySelector("#Business")
    majorsoftware.addEventListener("click",()=>{
      major="Software";
      majorselect.textContent=major;
    })
    majormedical.addEventListener("click",()=>{
      major="Medical";
      majorselect.textContent=major;
    })
    majorbusiness.addEventListener("click",()=>{
      major="Business";
     majorselect.textContent=major;
    })
    </script>
</body>
</html>
